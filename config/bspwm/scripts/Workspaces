#!/bin/bash
# =============================================================
#     ðŸ§  Hacking Workspace Launcher â€” BSPWM Edition
# =============================================================

WORKDIR="$HOME/Documents/nvim_labs"
LINK_URL="https://ucsmedu-my.sharepoint.com/:x:/g/personal/fabian_huamani_estudiante_ucsm_edu_pe/EV6NXjfRpOVAmjnUccIuJw8BGK7hcPaQGCXeztaA_wrOAw?e=uIGdTU"
LIBREWOLF_PROFILE_DIR="$HOME/.librewolf-hack-profile"

# Crear el directorio del proyecto si no existe
mkdir -p "$WORKDIR"

# --- Escritorio 1: 2 terminales horizontales ---
bspc desktop -f ^1
sh -c 'cd ~ && exec st -e tmux' &
sleep 1

# --- Escritorio 2: 1 terminal ---
bspc desktop -f ^2
sh -c 'cd ~ && exec st -e tmux' &
sleep 1

# --- Escritorio 3: LibreWolf con enlace especÃ­fico ---
bspc desktop -f ^3

# Crear perfil temporal si no existe
mkdir -p "$LIBREWOLF_PROFILE_DIR"

# Lanzar LibreWolf con perfil aislado y URL fija
librewolf --profile "$LIBREWOLF_PROFILE_DIR" --no-remote "$LINK_URL" &
sleep 2

# --- Escritorio 4: BurpSuite ---
bspc desktop -f ^4
burpsuite &
sleep 2

# --- Escritorio 5: Neovim en carpeta de proyectos, sin archivo abierto ---
bspc desktop -f ^5
alacritty -e bash -c "cd \"$WORKDIR\" && nvim" &
sleep 2

# --- Volver al escritorio 1 ---
bspc desktop -f ^1

# NotificaciÃ³n final
notify-send "âœ… Entorno cargado"
